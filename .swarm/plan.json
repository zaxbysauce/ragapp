{
  "schema_version": "1.0.0",
  "title": "Refactoring Mission Plan",
  "swarm": "mega",
  "current_phase": 3,
  "phases": [
    {
      "id": 1,
      "name": "Discovery & Audit",
      "status": "complete",
      "tasks": [
        {
          "id": "1.1",
          "phase": 1,
          "status": "completed",
          "size": "small",
          "description": "Backend Deep Scan (Security, Performance, Architecture)",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "1.2",
          "phase": 1,
          "status": "completed",
          "size": "small",
          "description": "Frontend Deep Scan (Performance, Re",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "1.3",
          "phase": 1,
          "status": "completed",
          "size": "small",
          "description": "Generate Refactoring Roadmap",
          "depends": [],
          "files_touched": []
        }
      ]
    },
    {
      "id": 2,
      "name": "Refactoring - Batch 1: Critical Security (Backend)",
      "status": "complete",
      "tasks": [
        {
          "id": "2.1",
          "phase": 2,
          "status": "completed",
          "size": "small",
          "description": "Fix Path Traversal in File Upload (backend/app/api/routes/documents.py)",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "2.2",
          "phase": 2,
          "status": "completed",
          "size": "small",
          "description": "Add File Size & Type Validation (backend/app/api/routes/documents.py)",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "2.3",
          "phase": 2,
          "status": "completed",
          "size": "small",
          "description": "Fix Unsafe Query Parameter in Memory Search (backend/app/services/memory_store.py)",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "2.4",
          "phase": 2,
          "status": "completed",
          "size": "small",
          "description": "Remove Duplicate Health Check Endpoints (backend/app/main.py)",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "2.5",
          "phase": 2,
          "status": "completed",
          "size": "small",
          "description": "Fix Global HTTP Client Leak (backend/app/services/llm_client.py)",
          "depends": [],
          "files_touched": []
        }
      ]
    },
    {
      "id": 3,
      "name": "Refactoring - Batch 2: Core Architecture (Backend)",
      "status": "in_progress",
      "tasks": [
        {
          "id": "3.1",
          "phase": 3,
          "status": "pending",
          "size": "small",
          "description": "Implement Dependency Injection for Services (Remove Global Singletons)",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "3.2",
          "phase": 3,
          "status": "pending",
          "size": "small",
          "description": "Implement Database Connection Pooling (Remove new connection per request)",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "3.3",
          "phase": 3,
          "status": "pending",
          "size": "small",
          "description": "Standardize Async/Sync boundaries (Fix blocking I/O)",
          "depends": [],
          "files_touched": []
        }
      ]
    },
    {
      "id": 4,
      "name": "Refactoring - Batch 3: Frontend Modernization",
      "status": "pending",
      "tasks": [
        {
          "id": "4.1",
          "phase": 4,
          "status": "pending",
          "size": "small",
          "description": "Decompose Monolithic App.tsx into Page Components",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "4.2",
          "phase": 4,
          "status": "pending",
          "size": "small",
          "description": "Extract Custom Hooks (useDebounce, useDocuments, etc.)",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "4.3",
          "phase": 4,
          "status": "pending",
          "size": "small",
          "description": "optimize Re",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "4.4",
          "phase": 4,
          "status": "pending",
          "size": "small",
          "description": "Fix Chat History Loading Loop",
          "depends": [],
          "files_touched": []
        }
      ]
    },
    {
      "id": 5,
      "name": "Validation & Cleanup",
      "status": "pending",
      "tasks": [
        {
          "id": "5.1",
          "phase": 5,
          "status": "pending",
          "size": "small",
          "description": "Add Authentication/Authorization (Basic Auth or Token)",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "5.2",
          "phase": 5,
          "status": "pending",
          "size": "small",
          "description": "Comprehensive Regression Testing",
          "depends": [],
          "files_touched": []
        },
        {
          "id": "5.3",
          "phase": 5,
          "status": "pending",
          "size": "small",
          "description": "Final Codebase Polish (Docstrings, Type Hints)",
          "depends": [],
          "files_touched": []
        }
      ]
    }
  ],
  "migration_status": "migrated"
}