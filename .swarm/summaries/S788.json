{"id":"S788","summaryText":"[SUMMARY S788] 51.7 KB | code | 146 lines\nFound 72 matches\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S787.json:\n  Line 1: {\"id\":\"S787\",\"summaryText\":\"[SUMMARY S787] 29.0 KB | code | 638 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n→ Use /swarm retrieve S787 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n4: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n5: import { Button } fr...\n→ Use /swarm retrieve S788 for full content","fullOutput":"Found 72 matches\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S787.json:\n  Line 1: {\"id\":\"S787\",\"summaryText\":\"[SUMMARY S787] 29.0 KB | code | 638 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n→ Use /swarm retrieve S787 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n4: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n5: import { Button } from \\\"@/components/ui/button\\\";\\n6: import { Input } from \\\"@/components/ui/input\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Progress } from \\\"@/components/ui/progress\\\";\\n9: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n10: import { Checkbox } from \\\"@/components/ui/checkbox\\\";\\n11: import { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\n12: import { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\n13: import { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\n14: import { useDebounce } from \\\"@/hooks/useDebounce\\\";\\n15: import { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\n16: import { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\n17: import { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\n18: import { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\n19: import { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\n20: import { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S786.json:\n  Line 1: {\"id\":\"S786\",\"summaryText\":\"[SUMMARY S786] 30.4 KB | code | 738 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\app\\\\api\\\\routes\\\\documents.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Documents API routes for file management and processing.\\n3: \\n→ Use /swarm retrieve S786 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\app\\\\api\\\\routes\\\\documents.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Documents API routes for file management and processing.\\n3: \\n4: Provides endpoints for listing documents, uploading files, scanning directories,\\n5: and managing document processing status.\\n6: \\\"\\\"\\\"\\n7: import asyncio\\n8: import hashlib\\n9: import hmac\\n10: import logging\\n11: import os\\n12: import re\\n13: import sqlite3\\n14: from pathlib import Path\\n15: from typing import Any, Dict, List, Optional\\n16: \\n17: import aiofiles\\n18: from fastapi import APIRouter, Depends, HTTPException, Request, UploadFile, File, Query, Body\\n19: from fastapi.exceptions import RequestValidationError\\n20: from pydantic import BaseModel, ConfigDict, Field\\n21: \\n22: from app.config import settings, Settings\\n23: from app.services.document_processor import DocumentProcessor, DocumentProcessingError, DuplicateFileError\\n24: from app.services.vector_store import VectorStore\\n25: from app.services.embeddings import EmbeddingService\\n26: from app.services.secret_manager import SecretManager\\n27: from app.models.database import SQLiteConnectionPool\\n28: from app.api.deps import get_secret_manager, get_background_processor, get_vector_store, get_embedding_service, get_settings, get_db, get_db_pool\\n29: from app.security import csrf_protect, require_scope, require_auth\\n30: from app.limiter import limiter\\n31: from app.services.background_tasks import BackgroundProcessor\\n32: \\n33: \\n34: def secure_filename(filename: str) -> str:\\n35:     \\\"\\\"\\\"\\n36:     Sanitize a filename to prevent security issues.\\n37:     \\n38:     - Strips paths using os.path.basename\\n39:    ...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S785.json:\n  Line 1: {\"id\":\"S785\",\"summaryText\":\"[SUMMARY S785] 29.0 KB | code | 638 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n→ Use /swarm retrieve S785 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n4: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n5: import { Button } from \\\"@/components/ui/button\\\";\\n6: import { Input } from \\\"@/components/ui/input\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Progress } from \\\"@/components/ui/progress\\\";\\n9: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n10: import { Checkbox } from \\\"@/components/ui/checkbox\\\";\\n11: import { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\n12: import { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\n13: import { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\n14: import { useDebounce } from \\\"@/hooks/useDebounce\\\";\\n15: import { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\n16: import { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\n17: import { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\n18: import { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\n19: import { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\n20: import { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S784.json:\n  Line 1: {\"id\":\"S784\",\"summaryText\":\"[SUMMARY S784] 30.4 KB | code | 738 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\app\\\\api\\\\routes\\\\documents.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Documents API routes for file management and processing.\\n3: \\n→ Use /swarm retrieve S784 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\app\\\\api\\\\routes\\\\documents.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Documents API routes for file management and processing.\\n3: \\n4: Provides endpoints for listing documents, uploading files, scanning directories,\\n5: and managing document processing status.\\n6: \\\"\\\"\\\"\\n7: import asyncio\\n8: import hashlib\\n9: import hmac\\n10: import logging\\n11: import os\\n12: import re\\n13: import sqlite3\\n14: from pathlib import Path\\n15: from typing import Any, Dict, List, Optional\\n16: \\n17: import aiofiles\\n18: from fastapi import APIRouter, Depends, HTTPException, Request, UploadFile, File, Query, Body\\n19: from fastapi.exceptions import RequestValidationError\\n20: from pydantic import BaseModel, ConfigDict, Field\\n21: \\n22: from app.config import settings, Settings\\n23: from app.services.document_processor import DocumentProcessor, DocumentProcessingError, DuplicateFileError\\n24: from app.services.vector_store import VectorStore\\n25: from app.services.embeddings import EmbeddingService\\n26: from app.services.secret_manager import SecretManager\\n27: from app.models.database import SQLiteConnectionPool\\n28: from app.api.deps import get_secret_manager, get_background_processor, get_vector_store, get_embedding_service, get_settings, get_db, get_db_pool\\n29: from app.security import csrf_protect, require_scope, require_auth\\n30: from app.limiter import limiter\\n31: from app.services.background_tasks import BackgroundProcessor\\n32: \\n33: \\n34: def secure_filename(filename: str) -> str:\\n35:     \\\"\\\"\\\"\\n36:     Sanitize a filename to prevent security issues.\\n37:     \\n38:     - Strips paths using os.path.basename\\n39:    ...\n\nC:\\opencode\\RAGAPPv2\\.git\\logs\\refs\\heads\\master:\n  Line 93: 4507f0e49efe961a3cd96e43ed912898dbdd4ee1 75431e0dff9829e1a99a3b56f4ccf47a5950967e Your Name <you@example.com> 1771942916 -0600\tcommit: Add bulk document delete: batch delete endpoint, vault delete-all, and frontend selection UI\n  Line 99: fbb2d79161d4d3d2d8c6bf19ed70a3452271d650 1e512f4d6bb27065a2d9b4ffc9a79c306b161d09 Your Name <you@example.com> 1771947371 -0600\tcommit: Fix: batch delete API type and checkbox controlled warning\n\nC:\\opencode\\RAGAPPv2\\.git\\logs\\HEAD:\n  Line 93: 4507f0e49efe961a3cd96e43ed912898dbdd4ee1 75431e0dff9829e1a99a3b56f4ccf47a5950967e Your Name <you@example.com> 1771942916 -0600\tcommit: Add bulk document delete: batch delete endpoint, vault delete-all, and frontend selection UI\n  Line 99: fbb2d79161d4d3d2d8c6bf19ed70a3452271d650 1e512f4d6bb27065a2d9b4ffc9a79c306b161d09 Your Name <you@example.com> 1771947371 -0600\tcommit: Fix: batch delete API type and checkbox controlled warning\n\nC:\\opencode\\RAGAPPv2\\.git\\COMMIT_EDITMSG:\n  Line 1: Fix: batch delete API type and checkbox controlled warning\n\nC:\\opencode\\RAGAPPv2\\frontend\\src\\pages\\DocumentsPage.tsx:\n  Line 12: import { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \"@/lib/api\";\n  Line 99:   const handleSelectAll = useCallback((checked: boolean | 'indeterminate') => {\n  Line 100:     if (checked) {\n  Line 108:   const handleSelectOne = useCallback((docId: string, checked: boolean) => {\n  Line 111:       if (checked) {\n  Line 129:       const result = await deleteDocuments(Array.from(selectedIds));\n  Line 562:                           checked={(selectedIds.size > 0 && selectedIds.size === filteredDocuments.length) ?? false}\n  Line 578:                       const isSelected = selectedIds.has(docId);\n  Line 580:                         <tr key={doc.id} className={`border-b hover:bg-muted/50 ${isSelected ? 'bg-muted/30' : ''}`}>\n  Line 583:                               checked={isSelected ?? false}\n  Line 584:                               onCheckedChange={(checked) => handleSelectOne(String(doc.id), !!checked)}\n  Line 624:                  isSelected={selectedIds.has(doc.id)}\n\nC:\\opencode\\RAGAPPv2\\frontend\\src\\components\\shared\\DocumentCard.tsx:\n  Line 34:   isSelected?: boolean;\n  Line 53:   isSelected = false,\n  Line 62:         isSelected ? \"ring-2 ring-primary ring-offset-2\" : \"\"\n  Line 74:                 checked={isSelected ?? false}\n  Line 75:                 onCheckedChange={(checked) =>\n  Line 76:                   onSelectionChange(document.id, !!checked)\n\nC:\\opencode\\RAGAPPv2\\frontend\\src\\lib\\api.ts:\n  Line 425: export async function deleteDocuments(fileIds: string[]): Promise<{ deleted_count: number, failed_ids: number[] }> {\n  Line 426:   const response = await apiClient.delete<{ deleted_count: number, failed_ids: number[] }>(\"/documents/batch\", { data: { file_ids: fileIds }, headers: { 'Content-Type': 'application/json' } });\n\nC:\\opencode\\RAGAPPv2\\backend\\app\\api\\routes\\documents.py:\n  Line 610: async def batch_delete_documents(\n  Line 612:     file_ids: List[str] = Body(..., description=\"List of file IDs to delete\"),\n  Line 627:     for file_id in file_ids:\n  Line 682:     file_ids = [row[\"id\"] for row in rows]\n  Line 685:     for file_id in file_ids:\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S781.json:\n  Line 1: {\"id\":\"S781\",\"summaryText\":\"[SUMMARY S781] 29.0 KB | code | 638 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n→ Use /swarm retrieve S781 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n4: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n5: import { Button } from \\\"@/components/ui/button\\\";\\n6: import { Input } from \\\"@/components/ui/input\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Progress } from \\\"@/components/ui/progress\\\";\\n9: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n10: import { Checkbox } from \\\"@/components/ui/checkbox\\\";\\n11: import { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\n12: import { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\n13: import { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\n14: import { useDebounce } from \\\"@/hooks/useDebounce\\\";\\n15: import { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\n16: import { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\n17: import { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\n18: import { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\n19: import { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\n20: import { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S780.json:\n  Line 1: {\"id\":\"S780\",\"summaryText\":\"[SUMMARY S780] 30.4 KB | code | 738 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\app\\\\api\\\\routes\\\\documents.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Documents API routes for file management and processing.\\n3: \\n→ Use /swarm retrieve S780 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\app\\\\api\\\\routes\\\\documents.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Documents API routes for file management and processing.\\n3: \\n4: Provides endpoints for listing documents, uploading files, scanning directories,\\n5: and managing document processing status.\\n6: \\\"\\\"\\\"\\n7: import asyncio\\n8: import hashlib\\n9: import hmac\\n10: import logging\\n11: import os\\n12: import re\\n13: import sqlite3\\n14: from pathlib import Path\\n15: from typing import Any, Dict, List, Optional\\n16: \\n17: import aiofiles\\n18: from fastapi import APIRouter, Depends, HTTPException, Request, UploadFile, File, Query, Body\\n19: from fastapi.exceptions import RequestValidationError\\n20: from pydantic import BaseModel, ConfigDict, Field\\n21: \\n22: from app.config import settings, Settings\\n23: from app.services.document_processor import DocumentProcessor, DocumentProcessingError, DuplicateFileError\\n24: from app.services.vector_store import VectorStore\\n25: from app.services.embeddings import EmbeddingService\\n26: from app.services.secret_manager import SecretManager\\n27: from app.models.database import SQLiteConnectionPool\\n28: from app.api.deps import get_secret_manager, get_background_processor, get_vector_store, get_embedding_service, get_settings, get_db, get_db_pool\\n29: from app.security import csrf_protect, require_scope, require_auth\\n30: from app.limiter import limiter\\n31: from app.services.background_tasks import BackgroundProcessor\\n32: \\n33: \\n34: def secure_filename(filename: str) -> str:\\n35:     \\\"\\\"\\\"\\n36:     Sanitize a filename to prevent security issues.\\n37:     \\n38:     - Strips paths using os.path.basename\\n39:    ...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S779.json:\n  Line 1: {\"id\":\"S779\",\"summaryText\":\"[SUMMARY S779] 29.0 KB | code | 638 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n→ Use /swarm retrieve S779 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n4: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n5: import { Button } from \\\"@/components/ui/button\\\";\\n6: import { Input } from \\\"@/components/ui/input\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Progress } from \\\"@/components/ui/progress\\\";\\n9: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n10: import { Checkbox } from \\\"@/components/ui/checkbox\\\";\\n11: import { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\n12: import { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\n13: import { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\n14: import { useDebounce } from \\\"@/hooks/useDebounce\\\";\\n15: import { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\n16: import { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\n17: import { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\n18: import { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\n19: import { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\n20: import { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S778.json:\n  Line 1: {\"id\":\"S778\",\"summaryText\":\"[SUMMARY S778] 30.4 KB | code | 738 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\app\\\\api\\\\routes\\\\documents.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Documents API routes for file management and processing.\\n3: \\n→ Use /swarm retrieve S778 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\app\\\\api\\\\routes\\\\documents.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Documents API routes for file management and processing.\\n3: \\n4: Provides endpoints for listing documents, uploading files, scanning directories,\\n5: and managing document processing status.\\n6: \\\"\\\"\\\"\\n7: import asyncio\\n8: import hashlib\\n9: import hmac\\n10: import logging\\n11: import os\\n12: import re\\n13: import sqlite3\\n14: from pathlib import Path\\n15: from typing import Any, Dict, List, Optional\\n16: \\n17: import aiofiles\\n18: from fastapi import APIRouter, Depends, HTTPException, Request, UploadFile, File, Query, Body\\n19: from fastapi.exceptions import RequestValidationError\\n20: from pydantic import BaseModel, ConfigDict, Field\\n21: \\n22: from app.config import settings, Settings\\n23: from app.services.document_processor import DocumentProcessor, DocumentProcessingError, DuplicateFileError\\n24: from app.services.vector_store import VectorStore\\n25: from app.services.embeddings import EmbeddingService\\n26: from app.services.secret_manager import SecretManager\\n27: from app.models.database import SQLiteConnectionPool\\n28: from app.api.deps import get_secret_manager, get_background_processor, get_vector_store, get_embedding_service, get_settings, get_db, get_db_pool\\n29: from app.security import csrf_protect, require_scope, require_auth\\n30: from app.limiter import limiter\\n31: from app.services.background_tasks import BackgroundProcessor\\n32: \\n33: \\n34: def secure_filename(filename: str) -> str:\\n35:     \\\"\\\"\\\"\\n36:     Sanitize a filename to prevent security issues.\\n37:     \\n38:     - Strips paths using os.path.basename\\n39:    ...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S769.json:\n  Line 1: {\"id\":\"S769\",\"summaryText\":\"[SUMMARY S769] 29.0 KB | code | 638 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n→ Use /swarm retrieve S769 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n4: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n5: import { Button } from \\\"@/components/ui/button\\\";\\n6: import { Input } from \\\"@/components/ui/input\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Progress } from \\\"@/components/ui/progress\\\";\\n9: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n10: import { Checkbox } from \\\"@/components/ui/checkbox\\\";\\n11: import { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\n12: import { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\n13: import { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\n14: import { useDebounce } from \\\"@/hooks/useDebounce\\\";\\n15: import { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\n16: import { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\n17: import { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\n18: import { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\n19: import { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\n20: import { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S768.json:\n  Line 1: {\"id\":\"S768\",\"summaryText\":\"[SUMMARY S768] 25.8 KB | code | 634 lines\\nimport { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\nimport { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\nimport { toast } from \\\"sonner\\\";\\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\nimport { Button } from \\\"@/components/ui/button\\\";\\n→ Use /swarm retrieve S768 for full content\",\"fullOutput\":\"import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\nimport { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\nimport { toast } from \\\"sonner\\\";\\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\nimport { Button } from \\\"@/components/ui/button\\\";\\nimport { Input } from \\\"@/components/ui/input\\\";\\nimport { Badge } from \\\"@/components/ui/badge\\\";\\nimport { Progress } from \\\"@/components/ui/progress\\\";\\nimport { Skeleton } from \\\"@/components/ui/skeleton\\\";\\nimport { Checkbox } from \\\"@/components/ui/checkbox\\\";\\nimport { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\nimport { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\nimport { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\nimport { useDebounce } from \\\"@/hooks/useDebounce\\\";\\nimport { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\nimport { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\nimport { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\nimport { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\nimport { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\nimport { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\n\\nconst MAX_FILE_SIZE = 50 * 1024 * 1024; // 50MB\\n\\nexport default function DocumentsPage() {\\n  const [documents, setDocuments] = useSta...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S767.json:\n  Line 1: {\"id\":\"S767\",\"summaryText\":\"[SUMMARY S767] 29.0 KB | code | 638 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n→ Use /swarm retrieve S767 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n4: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n5: import { Button } from \\\"@/components/ui/button\\\";\\n6: import { Input } from \\\"@/components/ui/input\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Progress } from \\\"@/components/ui/progress\\\";\\n9: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n10: import { Checkbox } from \\\"@/components/ui/checkbox\\\";\\n11: import { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\n12: import { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\n13: import { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\n14: import { useDebounce } from \\\"@/hooks/useDebounce\\\";\\n15: import { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\n16: import { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\n17: import { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\n18: import { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\n19: import { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\n20: import { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S766.json:\n  Line 1: {\"id\":\"S766\",\"summaryText\":\"[SUMMARY S766] 29.0 KB | code | 638 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n→ Use /swarm retrieve S766 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n4: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n5: import { Button } from \\\"@/components/ui/button\\\";\\n6: import { Input } from \\\"@/components/ui/input\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Progress } from \\\"@/components/ui/progress\\\";\\n9: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n10: import { Checkbox } from \\\"@/components/ui/checkbox\\\";\\n11: import { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\n12: import { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\n13: import { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\n14: import { useDebounce } from \\\"@/hooks/useDebounce\\\";\\n15: import { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\n16: import { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\n17: import { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\n18: import { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\n19: import { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\n20: import { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S765.json:\n  Line 1: {\"id\":\"S765\",\"summaryText\":\"[SUMMARY S765] 29.0 KB | code | 638 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n→ Use /swarm retrieve S765 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n4: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n5: import { Button } from \\\"@/components/ui/button\\\";\\n6: import { Input } from \\\"@/components/ui/input\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Progress } from \\\"@/components/ui/progress\\\";\\n9: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n10: import { Checkbox } from \\\"@/components/ui/checkbox\\\";\\n11: import { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\n12: import { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\n13: import { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\n14: import { useDebounce } from \\\"@/hooks/useDebounce\\\";\\n15: import { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\n16: import { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\n17: import { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\n18: import { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\n19: import { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\n20: import { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S764.json:\n  Line 1: {\"id\":\"S764\",\"summaryText\":\"[SUMMARY S764] 25.8 KB | code | 634 lines\\nimport { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\nimport { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\nimport { toast } from \\\"sonner\\\";\\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\nimport { Button } from \\\"@/components/ui/button\\\";\\n→ Use /swarm retrieve S764 for full content\",\"fullOutput\":\"import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\nimport { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\nimport { toast } from \\\"sonner\\\";\\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\nimport { Button } from \\\"@/components/ui/button\\\";\\nimport { Input } from \\\"@/components/ui/input\\\";\\nimport { Badge } from \\\"@/components/ui/badge\\\";\\nimport { Progress } from \\\"@/components/ui/progress\\\";\\nimport { Skeleton } from \\\"@/components/ui/skeleton\\\";\\nimport { Checkbox } from \\\"@/components/ui/checkbox\\\";\\nimport { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\nimport { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\nimport { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\nimport { useDebounce } from \\\"@/hooks/useDebounce\\\";\\nimport { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\nimport { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\nimport { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\nimport { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\nimport { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\nimport { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\n\\nconst MAX_FILE_SIZE = 50 * 1024 * 1024; // 50MB\\n\\nexport default function DocumentsPage() {\\n  const [documents, setDocuments] = useSta...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S763.json:\n  Line 1: {\"id\":\"S763\",\"summaryText\":\"[SUMMARY S763] 29.0 KB | code | 638 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n→ Use /swarm retrieve S763 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n4: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n5: import { Button } from \\\"@/components/ui/button\\\";\\n6: import { Input } from \\\"@/components/ui/input\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Progress } from \\\"@/components/ui/progress\\\";\\n9: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n10: import { Checkbox } from \\\"@/components/ui/checkbox\\\";\\n11: import { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\n12: import { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\n13: import { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\n14: import { useDebounce } from \\\"@/hooks/useDebounce\\\";\\n15: import { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\n16: import { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\n17: import { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\n18: import { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\n19: import { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\n20: import { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S762.json:\n  Line 1: {\"id\":\"S762\",\"summaryText\":\"[SUMMARY S762] 29.0 KB | code | 638 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n→ Use /swarm retrieve S762 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\DocumentsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\n2: import { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\n3: import { toast } from \\\"sonner\\\";\\n4: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n5: import { Button } from \\\"@/components/ui/button\\\";\\n6: import { Input } from \\\"@/components/ui/input\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Progress } from \\\"@/components/ui/progress\\\";\\n9: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n10: import { Checkbox } from \\\"@/components/ui/checkbox\\\";\\n11: import { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\n12: import { listDocuments, scanDocuments, deleteDocument, deleteDocuments, deleteAllDocumentsInVault, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\n13: import { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\n14: import { useDebounce } from \\\"@/hooks/useDebounce\\\";\\n15: import { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\n16: import { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\n17: import { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\n18: import { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\n19: import { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\n20: import { EmptyState } from \\\"@/components/shared/EmptyState\\\";\\...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\plan.md:\n  Line 98: - [x] 6.6.1: Add backend endpoints for batch delete and vault delete-all [SMALL]\n  Line 99:   - acceptance: DELETE /api/documents/batch accepts array of IDs and deletes all\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S736.json:\n  Line 1: {\"id\":\"S736\",\"summaryText\":\"[SUMMARY S736] 25.0 KB | code | 610 lines\\ntask_id: ses_3700d418dffeW9TOZ0eoF34oLI (for resuming to continue this task if needed)\\n<task_result>\\n```tsx\\n// /c/opencode/RAGAPPv2/frontend/src/pages/DocumentsPage.tsx\\n// DESIGN SPEC — generated by Designer agent\\n→ Use /swarm retrieve S736 for full content\",\"fullOutput\":\"task_id: ses_3700d418dffeW9TOZ0eoF34oLI (for resuming to continue this task if needed)\\n\\n<task_result>\\n```tsx\\n// /c/opencode/RAGAPPv2/frontend/src/pages/DocumentsPage.tsx\\n// DESIGN SPEC — generated by Designer agent\\n// Coder: implement TODO items, do not change component structure or accessibility attributes\\n\\nimport { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\nimport { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\nimport { toast } from \\\"sonner\\\";\\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\nimport { Button } from \\\"@/components/ui/button\\\";\\nimport { Input } from \\\"@/components/ui/input\\\";\\nimport { Badge } from \\\"@/components/ui/badge\\\";\\nimport { Progress } from \\\"@/components/ui/progress\\\";\\nimport { Skeleton } from \\\"@/components/ui/skeleton\\\";\\nimport { Checkbox } from \\\"@/components/ui/checkbox\\\";\\nimport { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\nimport { listDocuments, scanDocuments, deleteDocument, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\nimport { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\nimport { useDebounce } from \\\"@/hooks/useDebounce\\\";\\nimport { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\nimport { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\nimport { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\nimport { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\nimport { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\nimport { EmptyState } from \\\"@/compo...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S733.json:\n  Line 1: {\"id\":\"S733\",\"summaryText\":\"[SUMMARY S733] 25.0 KB | code | 610 lines\\ntask_id: ses_3700d418dffeW9TOZ0eoF34oLI (for resuming to continue this task if needed)\\n<task_result>\\n```tsx\\n// /c/opencode/RAGAPPv2/frontend/src/pages/DocumentsPage.tsx\\n// DESIGN SPEC — generated by Designer agent\\n→ Use /swarm retrieve S733 for full content\",\"fullOutput\":\"task_id: ses_3700d418dffeW9TOZ0eoF34oLI (for resuming to continue this task if needed)\\n\\n<task_result>\\n```tsx\\n// /c/opencode/RAGAPPv2/frontend/src/pages/DocumentsPage.tsx\\n// DESIGN SPEC — generated by Designer agent\\n// Coder: implement TODO items, do not change component structure or accessibility attributes\\n\\nimport { useState, useEffect, useCallback, useMemo } from \\\"react\\\";\\nimport { useDropzone, type FileRejection } from \\\"react-dropzone\\\";\\nimport { toast } from \\\"sonner\\\";\\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\nimport { Button } from \\\"@/components/ui/button\\\";\\nimport { Input } from \\\"@/components/ui/input\\\";\\nimport { Badge } from \\\"@/components/ui/badge\\\";\\nimport { Progress } from \\\"@/components/ui/progress\\\";\\nimport { Skeleton } from \\\"@/components/ui/skeleton\\\";\\nimport { Checkbox } from \\\"@/components/ui/checkbox\\\";\\nimport { FileText, Upload, Search, Trash2, ScanLine, AlertCircle, Loader2, X, RotateCcw, Trash } from \\\"lucide-react\\\";\\nimport { listDocuments, scanDocuments, deleteDocument, getDocumentStats, type Document, type DocumentStatsResponse } from \\\"@/lib/api\\\";\\nimport { formatFileSize, formatDate } from \\\"@/lib/formatters\\\";\\nimport { useDebounce } from \\\"@/hooks/useDebounce\\\";\\nimport { useVaultStore } from \\\"@/stores/useVaultStore\\\";\\nimport { useUploadStore } from \\\"@/stores/useUploadStore\\\";\\nimport { VaultSelector } from \\\"@/components/vault/VaultSelector\\\";\\nimport { StatusBadge } from \\\"@/components/shared/StatusBadge\\\";\\nimport { DocumentCard } from \\\"@/components/shared/DocumentCard\\\";\\nimport { EmptyState } from \\\"@/compo...\n\nC:\\opencode\\RAGAPPv2\\frontend\\src\\components\\ui\\checkbox.tsx:\n  Line 13:       \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S28.json:\n  Line 1: {\"id\":\"S28\",\"summaryText\":\"[SUMMARY S28] 27.4 KB | code | 685 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\tests\\\\test_api_routes.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Backend API route tests using unittest and FastAPI TestClient.\\n3: \\n→ Use /swarm retrieve S28 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\tests\\\\test_api_routes.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Backend API route tests using unittest and FastAPI TestClient.\\n3: \\n4: Tests cover health, settings, memories, documents, and chat endpoints.\\n5: All external services (LLM, vector store) are mocked for deterministic tests.\\n6: \\\"\\\"\\\"\\n7: \\n8: import json\\n9: import os\\n10: import sqlite3\\n11: import sys\\n12: import tempfile\\n13: import unittest\\n14: from pathlib import Path\\n15: from unittest.mock import AsyncMock, MagicMock, patch\\n16: \\n17: # Add parent directory to path for imports\\n18: sys.path.insert(0, os.path.join(os.path.dirname(__file__), '..'))\\n19: \\n20: # Stub missing optional dependencies\\n21: try:\\n22:     import lancedb\\n23: except ImportError:\\n24:     import types\\n25:     sys.modules['lancedb'] = types.ModuleType('lancedb')\\n26: \\n27: try:\\n28:     import pyarrow\\n29: except ImportError:\\n30:     import types\\n31:     sys.modules['pyarrow'] = types.ModuleType('pyarrow')\\n32: \\n33: try:\\n34:     from unstructured.partition.auto import partition\\n35: except ImportError:\\n36:     import types\\n37:     _unstructured = types.ModuleType('unstructured')\\n38:     _unstructured.__path__ = []\\n39:     _unstructured.partition = types.ModuleType('unstructured.partition')\\n40:     _unstructured.partition.__path__ = []\\n41:     _unstructured.partition.auto = types.ModuleType('unstructured.partition.auto')\\n42:     _unstructured.partition.auto.partition = lambda *args, **kwargs: []\\n43:     _unstructured.chunking = types.ModuleType('unstructured.chunking')\\n44:     _unstructured.chunking.__path__ = []\\n45:     _unstructured.chunking.title = ty...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S27.json:\n  Line 1: {\"id\":\"S27\",\"summaryText\":\"[SUMMARY S27] 27.4 KB | code | 685 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\tests\\\\test_api_routes.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Backend API route tests using unittest and FastAPI TestClient.\\n3: \\n→ Use /swarm retrieve S27 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\backend\\\\tests\\\\test_api_routes.py</path>\\n<type>file</type>\\n<content>1: \\\"\\\"\\\"\\n2: Backend API route tests using unittest and FastAPI TestClient.\\n3: \\n4: Tests cover health, settings, memories, documents, and chat endpoints.\\n5: All external services (LLM, vector store) are mocked for deterministic tests.\\n6: \\\"\\\"\\\"\\n7: \\n8: import json\\n9: import os\\n10: import sqlite3\\n11: import sys\\n12: import tempfile\\n13: import unittest\\n14: from pathlib import Path\\n15: from unittest.mock import AsyncMock, MagicMock, patch\\n16: \\n17: # Add parent directory to path for imports\\n18: sys.path.insert(0, os.path.join(os.path.dirname(__file__), '..'))\\n19: \\n20: # Stub missing optional dependencies\\n21: try:\\n22:     import lancedb\\n23: except ImportError:\\n24:     import types\\n25:     sys.modules['lancedb'] = types.ModuleType('lancedb')\\n26: \\n27: try:\\n28:     import pyarrow\\n29: except ImportError:\\n30:     import types\\n31:     sys.modules['pyarrow'] = types.ModuleType('pyarrow')\\n32: \\n33: try:\\n34:     from unstructured.partition.auto import partition\\n35: except ImportError:\\n36:     import types\\n37:     _unstructured = types.ModuleType('unstructured')\\n38:     _unstructured.__path__ = []\\n39:     _unstructured.partition = types.ModuleType('unstructured.partition')\\n40:     _unstructured.partition.__path__ = []\\n41:     _unstructured.partition.auto = types.ModuleType('unstructured.partition.auto')\\n42:     _unstructured.partition.auto.partition = lambda *args, **kwargs: []\\n43:     _unstructured.chunking = types.ModuleType('unstructured.chunking')\\n44:     _unstructured.chunking.__path__ = []\\n45:     _unstructured.chunking.title = ty...\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S54.json:\n  Line 1: {\"id\":\"S54\",\"summaryText\":\"[SUMMARY S54] 26.6 KB | code | 577 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\SettingsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect } from \\\"react\\\";\\n2: import { toast } from \\\"sonner\\\";\\n3: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n→ Use /swarm retrieve S54 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\SettingsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect } from \\\"react\\\";\\n2: import { toast } from \\\"sonner\\\";\\n3: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n4: import { Button } from \\\"@/components/ui/button\\\";\\n5: import { Input } from \\\"@/components/ui/input\\\";\\n6: import { Tabs, TabsContent, TabsList, TabsTrigger } from \\\"@/components/ui/tabs\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n9: import { AlertCircle, Loader2 } from \\\"lucide-react\\\";\\n10: import { getSettings, updateSettings, testConnections, type ConnectionTestResult } from \\\"@/lib/api\\\";\\n11: import { useSettingsStore } from \\\"@/stores/useSettingsStore\\\";\\n12: import { ConnectionStatusBadges } from \\\"@/components/shared/ConnectionStatusBadges\\\";\\n13: import type { HealthStatus } from \\\"@/types/health\\\";\\n14: import { useHealthCheck } from \\\"@/hooks/useHealthCheck\\\";\\n15: \\n16: // Internal component that renders the settings form\\n17: function SettingsPageContent() {\\n18:   const {\\n19:     settings,\\n20:     formData,\\n21:     loading,\\n22:     saving,\\n23:     error,\\n24:     errors,\\n25:     setSettings,\\n26:     initializeForm,\\n27:     setLoading,\\n28:     setSaving,\\n29:     setError,\\n30:     updateFormField,\\n31:     validateForm,\\n32:     hasChanges,\\n33:   } = useSettingsStore();\\n34: \\n35:   const [apiKey, setApiKey] = useState(() => {\\n36:     try {\\n37:       retur...\n\nC:\\opencode\\RAGAPPv2\\frontend\\src\\pages\\SettingsPage.tsx:\n  Line 323:                       checked={formData.auto_scan_enabled}\n  Line 324:                       onChange={(e) => handleInputChange(\"auto_scan_enabled\", e.target.checked)}\n  Line 513:     if (!date) return \"Not checked\";\n  Line 514:     return `Last checked: ${date.toLocaleTimeString()}`;\n\nC:\\opencode\\RAGAPPv2\\.swarm\\summaries\\S41.json:\n  Line 1: {\"id\":\"S41\",\"summaryText\":\"[SUMMARY S41] 25.5 KB | code | 556 lines\\n<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\SettingsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect } from \\\"react\\\";\\n2: import { toast } from \\\"sonner\\\";\\n3: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n→ Use /swarm retrieve S41 for full content\",\"fullOutput\":\"<path>C:\\\\opencode\\\\RAGAPPv2\\\\frontend\\\\src\\\\pages\\\\SettingsPage.tsx</path>\\n<type>file</type>\\n<content>1: import { useState, useEffect } from \\\"react\\\";\\n2: import { toast } from \\\"sonner\\\";\\n3: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \\\"@/components/ui/card\\\";\\n4: import { Button } from \\\"@/components/ui/button\\\";\\n5: import { Input } from \\\"@/components/ui/input\\\";\\n6: import { Tabs, TabsContent, TabsList, TabsTrigger } from \\\"@/components/ui/tabs\\\";\\n7: import { Badge } from \\\"@/components/ui/badge\\\";\\n8: import { Skeleton } from \\\"@/components/ui/skeleton\\\";\\n9: import { AlertCircle, Loader2 } from \\\"lucide-react\\\";\\n10: import { getSettings, updateSettings, testConnections, type ConnectionTestResult } from \\\"@/lib/api\\\";\\n11: import { useSettingsStore } from \\\"@/stores/useSettingsStore\\\";\\n12: import { ConnectionStatusBadges } from \\\"@/components/shared/ConnectionStatusBadges\\\";\\n13: import type { HealthStatus } from \\\"@/types/health\\\";\\n14: import { useHealthCheck } from \\\"@/hooks/useHealthCheck\\\";\\n15: \\n16: // Internal component that renders the settings form\\n17: function SettingsPageContent() {\\n18:   const {\\n19:     settings,\\n20:     formData,\\n21:     loading,\\n22:     saving,\\n23:     error,\\n24:     errors,\\n25:     setSettings,\\n26:     initializeForm,\\n27:     setLoading,\\n28:     setSaving,\\n29:     setError,\\n30:     updateFormField,\\n31:     validateForm,\\n32:     hasChanges,\\n33:   } = useSettingsStore();\\n34: \\n35:   const [apiKey, setApiKey] = useState(() => {\\n36:     try {\\n37:       retur...\n\nC:\\opencode\\RAGAPPv2\\backend\\tests\\test_integration.py:\n  Line 138:         self.deleted_file_ids: List[str] = []\n  Line 147:         self.deleted_file_ids.append(file_id)\n\nC:\\opencode\\RAGAPPv2\\build.txt:\n  Line 504: #11 21.13 debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/x86_64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8, <STDIN> line 253.)\n  Line 1055: #11 45.68 debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/x86_64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8.)\n  Line 1478: #11 60.93 debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/x86_64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8.)\n  Line 1600: #11 63.89 debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/x86_64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8.)\n  Line 1697: #11 67.86 debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/x86_64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8.)\n\nC:\\opencode\\RAGAPPv2\\frontend\\src\\components\\ui\\dropdown-menu.tsx:\n  Line 98: >(({ className, children, checked, ...props }, ref) => (\n  Line 105:     checked={checked}\n\nC:\\opencode\\RAGAPPv2\\.git\\hooks\\push-to-checkout.sample:\n  Line 3: # An example hook script to update a checked-out tree on a git push.\n  Line 7: # tries to update the branch that is currently checked out and the\n  Line 13: # checked out commit; when both the working tree and the index match\n\nC:\\opencode\\RAGAPPv2\\.git\\hooks\\pre-push.sample:\n  Line 4: # push\" after it has checked the remote status, but before anything has been","timestamp":1771947390389,"originalBytes":52926}