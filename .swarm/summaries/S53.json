{"id":"S53","summaryText":"[SUMMARY S53] 25.5 KB | code | 536 lines\n<path>C:\\opencode\\RAGAPPv2\\frontend\\src\\pages\\ChatPage.tsx</path>\n<type>file</type>\n<content>1: import { useMemo, useState, useRef, useEffect } from \"react\";\n2: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\n3: import { Button } from \"@/components/ui/button\";\nâ†’ Use /swarm retrieve S53 for full content","fullOutput":"<path>C:\\opencode\\RAGAPPv2\\frontend\\src\\pages\\ChatPage.tsx</path>\n<type>file</type>\n<content>1: import { useMemo, useState, useRef, useEffect } from \"react\";\n2: import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\n3: import { Button } from \"@/components/ui/button\";\n4: import { Textarea } from \"@/components/ui/textarea\";\n5: import { Badge } from \"@/components/ui/badge\";\n6: import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n7: import { ScrollArea } from \"@/components/ui/scroll-area\";\n8: import { Skeleton } from \"@/components/ui/skeleton\";\n9: import { MessageSquare, FileText, Plus, ChevronDown, ChevronRight, AlertCircle, BookOpen, MoreVertical, Download, RotateCcw, Edit3 } from \"lucide-react\";\n10: import {\n11:   Accordion,\n12:   AccordionContent,\n13:   AccordionItem,\n14:   AccordionTrigger,\n15: } from \"@/components/ui/accordion\";\n16: import {\n17:   DropdownMenu,\n18:   DropdownMenuContent,\n19:   DropdownMenuItem,\n20:   DropdownMenuSeparator,\n21:   DropdownMenuTrigger,\n22: } from \"@/components/ui/dropdown-menu\";\n23: import {\n24:   Dialog,\n25:   DialogContent,\n26:   DialogDescription,\n27:   DialogFooter,\n28:   DialogHeader,\n29:   DialogTitle,\n30: } from \"@/components/ui/dialog\";\n31: import { type Source } from \"@/lib/api\";\n32: import { useChatStore } from \"@/stores/useChatStore\";\n33: import { MessageContent } from \"@/components/shared/MessageContent\";\n34: import { MessageActions } from \"@/components/shared/MessageActions\";\n35: import { KeyboardShortcutsDialog, useKeyboardShortcuts } from \"@/components/shared/KeyboardShortcuts\";\n36: import { EmptyState } from \"@/components/shared/EmptyState\";\n37: import { useVaultStore } from \"@/stores/useVaultStore\";\n38: import { VaultSelector } from \"@/components/vault/VaultSelector\";\n39: import { useChatHistory } from \"@/hooks/useChatHistory\";\n40: import { useSendMessage, MAX_INPUT_LENGTH } from \"@/hooks/useSendMessage\";\n41: \n42: export default function ChatPage() {\n43:   const {\n44:     messages,\n45:     input,\n46:     isStreaming,\n47:     inputError,\n48:     expandedSources,\n49:     toggleSource,\n50:   } = useChatStore();\n51:   const { activeVaultId } = useVaultStore();\n52: \n53:   const [activeTab, setActiveTab] = useState(\"active\");\n54:   const [showClearDialog, setShowClearDialog] = useState(false);\n55:   const [chatTitle, setChatTitle] = useState(\"\");\n56:   const [isEditingTitle, setIsEditingTitle] = useState(false);\n57: \n58:   // Keyboard shortcuts\n59:   const { open: shortcutsOpen, setOpen: setShortcutsOpen } = useKeyboardShortcuts();\n60: \n61:   // Chat history logic\n62:   const { chatHistory, isChatLoading, chatHistoryError, handleLoadChat, refreshHistory } =\n63:     useChatHistory(activeVaultId);\n64: \n65:   // Send message logic\n66:   const { handleSend, handleStop, handleKeyDown, handleInputChange } = useSendMessage(\n67:     activeVaultId,\n68:     refreshHistory\n69:   );\n70: \n71:   const { latestAssistantMessage, hasSources } = useMemo(() => {\n72:     const latest = messages.filter((m) => m.role === \"assistant\").pop();\n73:     return {\n74:       latestAssistantMessage: latest,\n75:       hasSources: !!(latest?.sources && latest.sources.length > 0),\n76:     };\n77:   }, [messages]);\n78: \n79:   // Track if user is at bottom for auto-scroll\n80:   const [isAtBottom, setIsAtBottom] = useState(true);\n81:   const messagesContainerRef = useRef<HTMLDivElement>(null);\n82: \n83:   // Auto-scroll to bottom of messages (only if user is already at bottom)\n84:   const messagesEndRef = useRef<HTMLDivElement>(null);\n85: \n86:   useEffect(() => {\n87:     if (messagesEndRef.current && isAtBottom) {\n88:       messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n89:     }\n90:   }, [messages, isStreaming, isAtBottom]);\n91: \n92:   const handleScroll = () => {\n93:     if (messagesContainerRef.current) {\n94:       const { scrollTop, scrollHeight, clientHeight } = messagesContainerRef.current;\n95:       const isBottom = scrollHeight - scrollTop - clientHeight < 50;\n96:       setIsAtBottom(isBottom);\n97:     }\n98:   };\n99: \n100:   const handleToggleSource = (sourceId: string) => {\n101:     toggleSource(sourceId);\n102:   };\n103: \n104:   const handleClearChat = () => {\n105:     useChatStore.getState().clearMessages();\n106:     setShowClearDialog(false);\n107:   };\n108: \n109:   const handleExportChat = () => {\n110:     const chatText = messages.map(m => {\n111:       const role = m.role === \"user\" ? \"User\" : \"Assistant\";\n112:       return `${role}: ${m.content}`;\n113:     }).join(\"\\n\\n\");\n114:     \n115:     const blob = new Blob([chatText], { type: \"text/plain\" });\n116:     const url = URL.createObjectURL(blob);\n117:     const a = document.createElement(\"a\");\n118:     a.href = url;\n119:     a.download = `chat-${new Date().toISOString().slice(0, 10)}.txt`;\n120:     document.body.appendChild(a);\n121:     a.click();\n122:     document.body.removeChild(a);\n123:     URL.revokeObjectURL(url);\n124:   };\n125: \n126:   const handleSaveTitle = () => {\n127:     // TODO: Save title to backend when API is available\n128:     setIsEditingTitle(false);\n129:   };\n130: \n131:   return (\n132:     <div className=\"space-y-6 animate-in fade-in duration-300\">\n133:       <div className=\"flex items-center justify-between\">\n134:         <div>\n135:           {isEditingTitle ? (\n136:             <div className=\"flex items-center gap-2\">\n137:               <input\n138:                 type=\"text\"\n139:                 value={chatTitle}\n140:                 onChange={(e) => setChatTitle(e.target.value)}\n141:                 placeholder=\"Chat title...\"\n142:                 className=\"text-2xl font-bold bg-transparent border-b border-primary focus:outline-none focus:border-primary-foreground\"\n143:                 onKeyDown={(e) => {\n144:                   if (e.key === \"Enter\") handleSaveTitle();\n145:                   if (e.key === \"Escape\") setIsEditingTitle(false);\n146:                 }}\n147:                 autoFocus\n148:               />\n149:               <Button size=\"sm\" onClick={handleSaveTitle}>Save</Button>\n150:             </div>\n151:           ) : (\n152:             <h1 className=\"text-3xl font-bold tracking-tight\">Chat</h1>\n153:           )}\n154:           <p className=\"text-muted-foreground mt-1\">Ask questions and get AI-powered answers</p>\n155:         </div>\n156:         <div className=\"flex items-center gap-2\">\n157:           <VaultSelector />\n158:           \n159:           {/* Chat Actions Dropdown */}\n160:           {messages.length > 0 && (\n161:             <DropdownMenu>\n162:               <DropdownMenuTrigger asChild>\n163:                 <Button variant=\"outline\" size=\"icon\" className=\"min-w-[44px] min-h-[44px]\" aria-label=\"Chat actions\">\n164:                   <MoreVertical className=\"w-4 h-4\" />\n165:                 </Button>\n166:               </DropdownMenuTrigger>\n167:               <DropdownMenuContent align=\"end\">\n168:                 <DropdownMenuItem onClick={() => setIsEditingTitle(true)}>\n169:                   <Edit3 className=\"w-4 h-4 mr-2\" />\n170:                   Rename Chat\n171:                 </DropdownMenuItem>\n172:                 <DropdownMenuItem onClick={handleExportChat}>\n173:                   <Download className=\"w-4 h-4 mr-2\" />\n174:                   Export to Text\n175:                 </DropdownMenuItem>\n176:                 <DropdownMenuSeparator />\n177:                 <DropdownMenuItem onClick={() => setShowClearDialog(true)} className=\"text-destructive focus:text-destructive\">\n178:                   <RotateCcw className=\"w-4 h-4 mr-2\" />\n179:                   Clear Chat\n180:                 </DropdownMenuItem>\n181:               </DropdownMenuContent>\n182:             </DropdownMenu>\n183:           )}\n184:           \n185:           <Button variant=\"outline\" size=\"sm\" onClick={() => useChatStore.getState().newChat()}>\n186:             <Plus className=\"w-4 h-4 mr-2\" />\n187:             New Chat\n188:           </Button>\n189:         </div>\n190:       </div>\n191: \n192:       <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n193:         <div className=\"lg:col-span-2\">\n194:           <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n195:         <TabsList className=\"grid w-full max-w-md grid-cols-2\">\n196:           <TabsTrigger value=\"active\">Active Chats</TabsTrigger>\n197:           <TabsTrigger value=\"history\">History</TabsTrigger>\n198:         </TabsList>\n199: \n200:         <TabsContent value=\"active\" className=\"space-y-4\">\n201:           {messages.length > 0 && (\n202:             <Card \n203:               ref={messagesContainerRef}\n204:               className=\"min-h-[300px] max-h-[500px] overflow-y-auto\"\n205:               onScroll={handleScroll}\n206:             >\n207:               <CardContent \n208:                 className=\"space-y-4 pt-6\"\n209:                 role=\"log\"\n210:                 aria-live=\"polite\"\n211:                 aria-atomic=\"false\"\n212:                 aria-label=\"Chat messages\"\n213:               >\n214:                 {messages.map((message, index) => (\n215:                   <div\n216:                     key={message.id}\n217:                     className={`flex ${\n218:                       message.role === \"user\" ? \"justify-end\" : \"justify-start\"\n219:                     }`}\n220:                   >\n221:                     <div\n222:                       className={`group max-w-[80%] rounded-lg p-4 relative ${\n223:                         message.role === \"user\"\n224:                           ? \"bg-primary text-primary-foreground\"\n225:                           : \"bg-muted\"\n226:                       }`}\n227:                     >\n228:                       <div className=\"text-sm\">\n229:                         <MessageContent message={message} />\n230:                         {isStreaming && index === messages.length - 1 && message.role === \"assistant\" && (\n231:                           <span className=\"inline-block w-2 h-4 ml-1 bg-current animate-pulse\"></span>\n232:                         )}\n233:                       </div>\n234:                       {message.error && (\n235:                         <div className=\"mt-2 text-xs text-destructive\">\n236:                           Error: {message.error}\n237:                         </div>\n238:                       )}\n239:                       {message.stopped && (\n240:                         <div className=\"mt-2 text-xs text-muted-foreground italic\">\n241:                           [stopped]\n242:                         </div>\n243:                       )}\n244:                       {message.sources && message.sources.length > 0 && (\n245:                         <div className=\"mt-2 pt-2 border-t border-border/50\">\n246:                           <p className=\"text-xs font-medium mb-1\">Sources:</p>\n247:                           <div className=\"flex flex-wrap gap-1\">\n248:                             {message.sources.map((source) => (\n249:                               <Badge key={source.id} variant=\"secondary\" className=\"text-xs\">\n250:                                 {source.filename}\n251:                               </Badge>\n252:                             ))}\n253:                           </div>\n254:                         </div>\n255:                       )}\n256:                       {/* Copy button - appears on hover/focus */}\n257:                       <div className={`absolute -bottom-3 ${message.role === \"user\" ? \"left-0\" : \"right-0\"}`}>\n258:                         <MessageActions content={message.content} />\n259:                       </div>\n260:                     </div>\n261:                   </div>\n262:                 ))}\n263:                 <div ref={messagesEndRef} />\n264:               </CardContent>\n265:             </Card>\n266:           )}\n267: \n268:           <Card>\n269:             <CardHeader>\n270:               <CardTitle className=\"text-lg\">\n271:                 {messages.length === 0 ? \"Start a New Conversation\" : \"Continue Chatting\"}\n272:               </CardTitle>\n273:               <CardDescription>\n274:                 Type your question below to start chatting with the AI\n275:               </CardDescription>\n276:             </CardHeader>\n277:             <CardContent className=\"space-y-4\">\n278:               <div className=\"space-y-2\">\n279:                 <Textarea\n280:                   placeholder=\"Ask anything about your documents...\"\n281:                   className={`min-h-[120px] resize-none ${inputError ? \"border-destructive focus-visible:ring-destructive\" : \"\"}`}\n282:                   value={input}\n283:                   onChange={handleInputChange}\n284:                   onKeyDown={handleKeyDown}\n285:                   disabled={isStreaming}\n286:                   maxLength={MAX_INPUT_LENGTH}\n287:                   aria-label=\"Message input\"\n288:                   aria-describedby={inputError ? \"input-error\" : undefined}\n289:                 />\n290:                 <div className=\"flex justify-between items-center\">\n291:                   {inputError ? (\n292:                     <span id=\"input-error\" className=\"text-xs text-destructive\" role=\"alert\">{inputError}</span>\n293:                   ) : (\n294:                     <span className=\"text-xs text-muted-foreground\"></span>\n295:                   )}\n296:                   <span className={`text-xs ${input.length > MAX_INPUT_LENGTH ? \"text-destructive\" : \"text-muted-foreground\"}`}>\n297:                     {input.length}/{MAX_INPUT_LENGTH}\n298:                   </span>\n299:                 </div>\n300:               </div>\n301:               <div className=\"flex justify-end\">\n302:                 {isStreaming ? (\n303:                   <Button variant=\"destructive\" onClick={handleStop}>\n304:                     Stop\n305:                   </Button>\n306:                 ) : (\n307:                   <Button onClick={handleSend} disabled={!input.trim()}>\n308:                     Send Message\n309:                   </Button>\n310:                 )}\n311:               </div>\n312:             </CardContent>\n313:           </Card>\n314:         </TabsContent>\n315: \n316:         <TabsContent value=\"history\">\n317:           <Card>\n318:             <CardHeader>\n319:               <CardTitle>Chat History</CardTitle>\n320:               <CardDescription>View your past conversations</CardDescription>\n321:             </CardHeader>\n322:             <CardContent>\n323:               {isChatLoading ? (\n324:                 <div className=\"space-y-4\">\n325:                   {[...Array(4)].map((_, i) => (\n326:                     <div key={i} className=\"flex items-center gap-4\">\n327:                       <Skeleton className=\"h-10 w-10 rounded-full\" />\n328:                       <div className=\"space-y-2 flex-1\">\n329:                         <Skeleton className=\"h-4 w-[200px]\" />\n330:                         <Skeleton className=\"h-3 w-[150px]\" />\n331:                       </div>\n332:                       <Skeleton className=\"h-3 w-[80px]\" />\n333:                     </div>\n334:                   ))}\n335:                 </div>\n336:               ) : chatHistoryError ? (\n337:                 <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n338:                   <AlertCircle className=\"w-12 h-12 text-destructive mx-auto mb-4\" />\n339:                   <p className=\"text-muted-foreground\">Failed to load chat history.</p>\n340:                   <p className=\"text-xs text-muted-foreground/70 mt-1\">\n341:                     {chatHistoryError}\n342:                   </p>\n343:                 </div>\n344:               ) : chatHistory.length === 0 ? (\n345:                 <EmptyState\n346:                   icon={MessageSquare}\n347:                   title=\"No chat history yet\"\n348:                   description=\"Start a conversation to see it here.\"\n349:                 />\n350:               ) : (\n351:                 <div className=\"space-y-4\">\n352:                   {chatHistory.map((session) => (\n353:                     <div key={session.id} className=\"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 cursor-pointer transition-colors\" onClick={async () => { await handleLoadChat(session); setActiveTab(\"active\"); }}>\n354:                       <div className=\"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center\">\n355:                         <MessageSquare className=\"h-5 w-5 text-primary\" />\n356:                       </div>\n357:                       <div className=\"flex-1\">\n358:                         <p className=\"font-medium\">{session.title || \"Untitled\"}</p>\n359:                         <p className=\"text-sm text-muted-foreground\">Last active {new Date(session.updated_at).toLocaleString()}</p>\n360:                       </div>\n361:                       <span className=\"text-xs text-muted-foreground\">{session.message_count ?? 0} messages</span>\n362:                     </div>\n363:                   ))}\n364:                 </div>\n365:               )}\n366:             </CardContent>\n367:           </Card>\n368:         </TabsContent>\n369:       </Tabs>\n370:         </div>\n371: \n372:         <div className=\"lg:col-span-1\">\n373:           {/* Desktop Sources Panel */}\n374:           <Card className=\"h-full hidden lg:flex lg:flex-col\">\n375:             <CardHeader>\n376:               <CardTitle className=\"text-lg\">Sources</CardTitle>\n377:               <CardDescription>\n378:                 {hasSources\n379:                   ? `${latestAssistantMessage!.sources!.length} source(s) for the latest response`\n380:                   : \"Sources will appear here after the AI responds\"}\n381:               </CardDescription>\n382:             </CardHeader>\n383:             <CardContent className=\"flex-1\">\n384:               {hasSources ? (\n385:                 <ScrollArea className=\"h-[400px] pr-4\">\n386:                   <div className=\"space-y-3\" role=\"list\" aria-label=\"Document sources\">\n387:                       {latestAssistantMessage!.sources!.map((source: Source) => {\n388:                       const isExpanded = expandedSources.has(source.id);\n389:                       return (\n390:                         <Card key={source.id} className=\"border-border/50\">\n391:                           <div\n392:                             className=\"p-3 cursor-pointer hover:bg-muted/50 transition-colors\"\n393:                             onClick={() => handleToggleSource(source.id)}\n394:                             role=\"listitem\"\n395:                             aria-expanded={isExpanded}\n396:                           >\n397:                             <div className=\"flex items-center justify-between\">\n398:                               <div className=\"flex items-center gap-2\">\n399:                                 <FileText className=\"w-4 h-4 text-muted-foreground\" />\n400:                                 <span className=\"text-sm font-medium truncate max-w-[180px]\">\n401:                                   {source.filename}\n402:                                 </span>\n403:                               </div>\n404:                               <div className=\"flex items-center gap-2\">\n405:                                 {source.score && (\n406:                                   <Badge variant=\"secondary\" className=\"text-xs\">\n407:                                     {(source.score * 100).toFixed(0)}%\n408:                                   </Badge>\n409:                                 )}\n410:                                 {isExpanded ? (\n411:                                   <ChevronDown className=\"w-4 h-4 text-muted-foreground\" />\n412:                                 ) : (\n413:                                   <ChevronRight className=\"w-4 h-4 text-muted-foreground\" />\n414:                                 )}\n415:                               </div>\n416:                             </div>\n417:                           </div>\n418:                           {isExpanded && (\n419:                             <div className=\"px-3 pb-3\">\n420:                               <div className=\"pt-2 border-t border-border/50\">\n421:                                 <p className=\"text-xs text-muted-foreground whitespace-pre-wrap\">\n422:                                   {source.snippet || \"No content available\"}\n423:                                 </p>\n424:                               </div>\n425:                             </div>\n426:                           )}\n427:                         </Card>\n428:                       );\n429:                     })}\n430:                   </div>\n431:                 </ScrollArea>\n432:               ) : (\n433:                 <div className=\"flex flex-col items-center justify-center h-[200px] text-center\">\n434:                   <FileText className=\"w-8 h-8 text-muted-foreground/50 mb-2\" />\n435:                   <p className=\"text-sm text-muted-foreground\">No sources available</p>\n436:                   <p className=\"text-xs text-muted-foreground/70 mt-1\">\n437:                     Ask a question to see relevant sources\n438:                   </p>\n439:                 </div>\n440:               )}\n441:             </CardContent>\n442:           </Card>\n443: \n444:           {/* Mobile Sources Accordion */}\n445:           <div className=\"lg:hidden\">\n446:             {hasSources && (\n447:               <Accordion type=\"single\" collapsible defaultValue=\"sources\">\n448:                 <AccordionItem value=\"sources\" className=\"border rounded-lg bg-card\">\n449:                   <AccordionTrigger className=\"px-4 py-3 hover:no-underline\">\n450:                     <div className=\"flex items-center gap-2\">\n451:                       <BookOpen className=\"w-4 h-4 text-muted-foreground\" />\n452:                       <span className=\"text-sm font-medium\">\n453:                         Sources ({latestAssistantMessage!.sources!.length})\n454:                       </span>\n455:                     </div>\n456:                   </AccordionTrigger>\n457:                   <AccordionContent className=\"px-4 pb-4\">\n458:                     <div className=\"space-y-3\" role=\"list\" aria-label=\"Document sources\">\n459:                       {latestAssistantMessage!.sources!.map((source: Source) => {\n460:                         const isExpanded = expandedSources.has(source.id);\n461:                         return (\n462:                           <Card key={source.id} className=\"border-border/50\">\n463:                             <div\n464:                               className=\"p-3 cursor-pointer hover:bg-muted/50 transition-colors\"\n465:                               onClick={() => handleToggleSource(source.id)}\n466:                               role=\"listitem\"\n467:                               aria-expanded={isExpanded}\n468:                             >\n469:                               <div className=\"flex items-center justify-between\">\n470:                                 <div className=\"flex items-center gap-2\">\n471:                                   <FileText className=\"w-4 h-4 text-muted-foreground\" />\n472:                                   <span className=\"text-sm font-medium truncate max-w-[200px]\">\n473:                                     {source.filename}\n474:                                   </span>\n475:                                 </div>\n476:                                 <div className=\"flex items-center gap-2\">\n477:                                   {source.score && (\n478:                                     <Badge variant=\"secondary\" className=\"text-xs\">\n479:                                       {(source.score * 100).toFixed(0)}%\n480:                                     </Badge>\n481:                                   )}\n482:                                   {isExpanded ? (\n483:                                     <ChevronDown className=\"w-4 h-4 text-muted-foreground\" />\n484:                                   ) : (\n485:                                     <ChevronRight className=\"w-4 h-4 text-muted-foreground\" />\n486:                                   )}\n487:                                 </div>\n488:                               </div>\n489:                             </div>\n490:                             {isExpanded && (\n491:                               <div className=\"px-3 pb-3\">\n492:                                 <div className=\"pt-2 border-t border-border/50\">\n493:                                   <p className=\"text-xs text-muted-foreground whitespace-pre-wrap\">\n494:                                     {source.snippet || \"No content available\"}\n495:                                   </p>\n496:                                 </div>\n497:                               </div>\n498:                             )}\n499:                           </Card>\n500:                         );\n501:                       })}\n502:                     </div>\n503:                   </AccordionContent>\n504:                 </AccordionItem>\n505:               </Accordion>\n506:             )}\n507:           </div>\n508:         </div>\n509:       </div>\n510: \n511:       {/* Clear Chat Confirmation Dialog */}\n512:       <Dialog open={showClearDialog} onOpenChange={setShowClearDialog}>\n513:         <DialogContent>\n514:           <DialogHeader>\n515:             <DialogTitle>Clear Chat</DialogTitle>\n516:             <DialogDescription>\n517:               Are you sure you want to clear this conversation? This action cannot be undone.\n518:             </DialogDescription>\n519:           </DialogHeader>\n520:           <DialogFooter className=\"gap-2\">\n521:             <Button variant=\"outline\" onClick={() => setShowClearDialog(false)}>Cancel</Button>\n522:             <Button variant=\"destructive\" onClick={handleClearChat}>Clear Chat</Button>\n523:           </DialogFooter>\n524:         </DialogContent>\n525:       </Dialog>\n526: \n527:       {/* Keyboard Shortcuts Dialog */}\n528:       <KeyboardShortcutsDialog open={shortcutsOpen} onOpenChange={setShortcutsOpen} />\n529:     </div>\n530:   );\n531: }\n\n(End of file - total 531 lines)\n</content>","timestamp":1771962129935,"originalBytes":26084}